// ディレクトリ毎にも _setting.scss を置く場合は _tm.scss より先に読み込む
@import 'setting';

// ブランク画像
$blank-png: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQI12NgYAAAAAMAASDVlMcAAAAASUVORK5CYII=';

// サイズ指定
@mixin size($width, $height: $width) {
  width: $width;
  height: $height;
}

// 最小サイズ指定
@mixin min-size($width, $height) {
  min-width: $width;
  min-height: $height;
}

// position指定
@mixin relative-left($left: 0) {
  position: relative;
  left: $left;
}

@mixin relative-right($right: 0) {
  position: relative;
  right: $right;
}

@mixin relative-top($top: 0) {
  position: relative;
  top: $top;
}

@mixin relative-bottom($bottom: 0) {
  position: relative;
  bottom: $bottom;
}

@mixin absolute-left($left: 0) {
  position: absolute;
  left: $left;
}

@mixin absolute-right($right: 0) {
  position: absolute;
  right: $right;
}

@mixin absolute-top($top: 0) {
  position: absolute;
  top: $top;
}

@mixin absolute-bottom($bottom: 0) {
  position: absolute;
  bottom: $bottom;
}

@mixin fixed-left($left: 0) {
  position: fixed;
  left: $left;
}

@mixin fixed-right($right: 0) {
  position: fixed;
  right: $right;
}

@mixin fixed-top($top: 0) {
  position: fixed;
  top: $top;
}

@mixin fixed-bottom($bottom: 0) {
  position: fixed;
  bottom: $bottom;
}

@mixin relative-left-top($left: 0, $top: 0) {
  position: relative;
  left: $left;
  top: $top;
}

@mixin relative-left-bottom($left: 0, $bottom: 0) {
  position: relative;
  left: $left;
  bottom: $bottom;
}

@mixin relative-right-top($right: 0, $top: 0) {
  position: relative;
  right: $right;
  top: $top;
}

@mixin relative-right-bottom($right: 0, $bottom: 0) {
  position: relative;
  right: $right;
  bottom: $bottom;
}

@mixin absolute-left-top($left: 0, $top: 0) {
  position: absolute;
  left: $left;
  top: $top;
}

@mixin absolute-left-bottom($left: 0, $bottom: 0) {
  position: absolute;
  left: $left;
  bottom: $bottom;
}

@mixin absolute-right-top($right: 0, $top: 0) {
  position: absolute;
  right: $right;
  top: $top;
}

@mixin absolute-right-bottom($right: 0, $bottom: 0) {
  position: absolute;
  right: $right;
  bottom: $bottom;
}

@mixin fixed-left-top($left: 0, $top: 0) {
  position: fixed;
  left: $left;
  top: $top;
}

@mixin fixed-left-bottom($left: 0, $bottom: 0) {
  position: fixed;
  left: $left;
  bottom: $bottom;
}

@mixin fixed-right-top($right: 0, $top: 0) {
  position: fixed;
  right: $right;
  top: $top;
}

@mixin fixed-right-bottom($right: 0, $bottom: 0) {
  position: fixed;
  right: $right;
  bottom: $bottom;
}

@mixin height-negative-top($height) {
  height: $height;
  margin-top: -$height / 2;
}

@mixin height-negative-bottom($height) {
  height: $height;
  margin-bottom: -$height / 2;
}

@mixin width-negative-left($width) {
  width: $width;
  margin-left: -$width / 2
}

@mixin width-negative-right($width) {
  width: $width;
  margin-right: -$width / 2;
}

@mixin relative($from, $from1: auto, $from2: auto) {
  position: relative;
  @if      $from == top         { top: $from1; }
  @else if $from == right       { right: $from1; }
  @else if $from == bottom      { bottom: $from1; }
  @else if $from == left        { left: $from1; }
  @else if $from == topLeft     { top: $from1; left: $from2; }
  @else if $from == topRight    { top: $from1; right: $from2; }
  @else if $from == bottomRight { bottom: $from1; right: $from2; }
  @else if $from == bottomLeft  { bottom: $from1; left: $from2; }
}

@mixin absolute($from, $from1: auto, $from2: auto) {
  position: absolute;
  @if      $from == top         { top: $from1; }
  @else if $from == right       { right: $from1; }
  @else if $from == bottom      { bottom: $from1; }
  @else if $from == left        { left: $from1; }
  @else if $from == topLeft     { top: $from1; left: $from2; }
  @else if $from == topRight    { top: $from1; right: $from2; }
  @else if $from == bottomRight { bottom: $from1; right: $from2; }
  @else if $from == bottomLeft  { bottom: $from1; left: $from2; }
}

@mixin fixed($from, $from1: auto, $from2: auto) {
  position: fixed;
  @if      $from == top         { top: $from1; }
  @else if $from == right       { right: $from1; }
  @else if $from == bottom      { bottom: $from1; }
  @else if $from == left        { left: $from1; }
  @else if $from == topLeft     { top: $from1; left: $from2; }
  @else if $from == topRight    { top: $from1; right: $from2; }
  @else if $from == bottomRight { bottom: $from1; right: $from2; }
  @else if $from == bottomLeft  { bottom: $from1; left: $from2; }
}

@mixin position($range1: 0, $range2: 0, $range3: 0, $range4: 0) {
  position: absolute;
  margin: auto;
  top: $range1;
  right: $range2;
  bottom: $range3;
  left: $range4;
}

// formカスタマイズ
@mixin select-customize($width, $height) {
  @include appearance(button);
  width: $width;
  height: $height;
  line-height: $height;
  border: none;
  cursor: pointer;
  &:focus {
    outline: none;
  }
}

// radioカスタマイズ
@mixin radio-customize($width, $height) {
  @include appearance(button);
  width: $width;
  height: $height;
  line-height: $height;
  position: relative;
  border: none;
  cursor: pointer;
  &:focus {
    outline: none;
  }
  &:checked:after {
    display: block;
    @include absoluteLeftTop(0, 0);
    @include size($width, $height);
    content: "";
  }
}

//テーブル風dl
@mixin dl-list($list-size, $dt-width, $dd-width) {
  width: $list-size;
  dt {
    float: left;
    width: $dt-width;
    clear: both;
  }
  dd {
    width: $dd-width;
    margin-left: $dt-width;
  }
}

// Android4 文章の折り返し位置のバグ対応
// jquery-tm v0.5.8~ $.fn.env() と共に使う
@mixin fix-android-word-wrap {
  .android4 {
    body, div, span, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, abbr, address, cite, code, del, dfn, em, img, ins, kbd, q, samp, small, strong, sub, sup, var, b, i, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, figcaption, figure, footer, header, hgroup, menu, nav, section, summary, time, mark, audio, video {
      background: url($blank-png) no-repeat;
    }
  }
}

// 2行目以降を一文字下げる
@mixin second-line-indent($width) {
  padding-left: $width;
  text-indent: -$width;
}

// 背景に透明画像を指定する（IE対策を含める）
// IEではalphaで背景を消すと表示範囲を確保できないため透明画像を配置する必要がある。
@mixin transparent {
  background: url($blank-png);
}

// IE10でinputに出てくるクリアボタンを表示させない
@mixin input-clear-invisible{
  &::-ms-clear {
    display: none;
  }
}

// コンテンツをセンタリング
@mixin parent-centering($width){
  width: $width;
  margin: 0 auto;
  position: relative;
}

// アスペクト比で出し分け（iPhone）
@mixin iphone-device-aspect-ratio{
  @media screen and (device-aspect-ratio: 2/3) {
    .iphone-under5 {
      display: block;
    }
    .iphone-over5 {
      display: none;
    }
  }
  @media screen and (device-aspect-ratio: 40/71) {
    .iphone-under5 {
      display: none;
    }
    .iphone-over5 {
      display: block;
    }
  }
  @media screen and (device-aspect-ratio: 3/4) {
    .iphone-under5 {
      display: none;
    }
    .iphone-over5 {
      display: block;
    }
  }
}

//sprite高速化
//$button: sprite-map("button/*.png");
//$sprites-button: sprite-url($button);
//↑と共に使用・複数可
@mixin quick-sprite($name, $sprites, $sprites-img) {
  background-image: $sprites-img;
  background-repeat: no-repeat;
  display: block;
  $ypos: round(nth(sprite-position($sprites, $name), 2));
  background-position: 0 $ypos;
}

//画像を可変にする
@mixin liquid-size-image{
  img{
    max-width: 100%;
  }
}

//clerfix
@mixin clearfix {
  @if $support-ie7 {
    *zoom: 1;
  }
  &:after {
    content: "";
    display: block;
    clear: both;
  }
}

//インラインで横並びにして隙間を埋める
@mixin inline-block-list {
  letter-spacing: -.4em;
  > * {
    display: inline-block;
    @if $support-ie7 {
      *display: inline;
      *zoom: 1;
    }
    letter-spacing: normal;
  }
}

//画像置換用に文字を画面外に飛ばす
@mixin img-replace {
  overflow: hidden;
  text-indent: 100%;
  white-space: nowrap;
}

//1行テキストがはみ出た場合...表示
@mixin ellipsis {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

//三角形
@mixin arrow($direction: left, $size: 10px, $color: #000, $top: auto, $right: auto, $bottom: auto, $left: auto) {
  content: "";
  display: block;
  width: 0;
  height: 0;
  $colors: "";
  @if      $direction == top    { $colors: $color transparent transparent; }
  @else if $direction == right  { $colors: transparent $color transparent transparent; }
  @else if $direction == bottom { $colors: transparent transparent $color; }
  @else if $direction == left   { $colors: transparent transparent transparent $color; }
  @else if $direction == topLeft      { $colors: $color transparent transparent $color; }
  @else if $direction == topRight     { $colors: $color $color transparent transparent; }
  @else if $direction == bottomRight  { $colors: transparent $color $color transparent; }
  @else if $direction == bottomLeft   { $colors: transparent transparent $color $color; }
  border: {
    width: $size;
    style: solid;
    color: $colors;
  }
  position: absolute;
  top: $top;
  right: $right;
  bottom: $bottom;
  left: $left;
}

//ポリフィル
@mixin inline-block { //IE6-7
  display: inline-block;
  @if $support-ie7 {
    *display: inline;
    *zoom: 1;
  }
}
@mixin opacity($val) { //IE6-8
  opacity: $val;
  @if $support-ie8 {
    $opacityIE: $val * 100;
    filter: alpha(opacity=$opacityIE);
  }
}
@mixin font-size($val) { //IE6-8
  @if $support-ie8 {
    font-size: $val + px;
  }
  font-size: $val / 10 + rem;
}

//webkit用のハック
@mixin hack-webkit {
  @media screen and (-webkit-min-device-pixel-ratio:0) {
    @content;
  }
}

// break point
@mixin media-screen-break-width {
  @media screen and (max-width: $breakpoint-width) {
    @content;
  }
}
@mixin media-screen-break-height {
  @media screen and (max-height: $breakpoint-height) {
    @content;
  }
}

// ratina
@mixin retina {
  @media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 1.5dppx) {
    @content;
  }
}

//===== プレフィックス =====

// transform
@mixin transform($val) {
  @if $support-webkit { -webkit-transform: $val; }
  @if $support-ie9    {     -ms-transform: $val; }
                                transform: $val;
}
@mixin transform-style($val) {
  @if $support-webkit { -webkit-transform-style: $val; }
                                transform-style: $val;
}
@mixin perspective($val) {
  @if $support-webkit { -webkit-perspective: $val; }
                                perspective: $val;
}
@mixin backface-visibility($val) {
  @if $support-webkit { -webkit-backface-visibility: $val; }
                                backface-visibility: $val;
}
@mixin transform-origin($val) {
  @if $support-webkit { -webkit-transform-origin: $val; }
  @if $support-ie9    {     -ms-transform-origin: $val; }
                                transform-origin: $val;
}

// transition
@mixin transition($val) {
  @if $support-webkit { -webkit-transition: $val; }
                                transition: $val;
}

// animation
@mixin animation($val) {
  @if $support-webkit { -webkit-animation: $val; }
                                animation: $val;
}
@mixin animation-name($val...) {
  @if $support-webkit { -webkit-animation-name: $val; }
                                animation-name: $val;
}
@mixin animation-duration($val...) {
  @if $support-webkit { -webkit-animation-duration: $val; }
                                animation-duration: $val;
}
@mixin animation-timing-function($val...) {
  @if $support-webkit { -webkit-animation-timing-function: $val; }
                                animation-timing-function: $val;
}
@mixin animation-delay($val...) {
  @if $support-webkit { -webkit-animation-delay: $val; }
                                animation-delay: $val;
}
@mixin animation-iteration-count($val...) {
  @if $support-webkit { -webkit-animation-iteration-count: $val; }
                                animation-iteration-count: $val;
}
@mixin animation-iteration-direction($val...) {
  @if $support-webkit { -webkit-animation-direction: $val; }
                                animation-direction: $val;
}
@mixin animation-fill-mode($val...) {
  @if $support-webkit { -webkit-animation-fill-mode: $val; }
                                animation-fill-mode: $val;
}
@mixin keyframes($name) {
  @if $support-webkit {
    @-webkit-keyframes $name { @content; }
  }
            @keyframes $name { @content; }
}

// display box
@mixin display-box() {
  @if $support-webkit { display: -webkit-box; }
  @if $support-moz    { display:    -moz-box; }
                        display:         box;
}
@mixin box-orient($val) {
  @if $support-webkit { -webkit-box-orient: box; }
  @if $support-moz    {    -moz-box-orient: box; }
                                box-orient: box;
}
@mixin box-pack($val) {
  @if $support-webkit { -webkit-box-pack: box; }
  @if $support-moz    {    -moz-box-pack: box; }
                                box-pack: box;
}
@mixin box-align($val) {
  @if $support-webkit { -webkit-box-align: box; }
  @if $support-moz    {    -moz-box-align: box; }
                                box-align: box;
}

// box sizing
@mixin box-sizing($val) { //moz, androd3.0
  @if $support-moz       {    -moz-box-sizing: $val; }
  @if $support-android30 { -webkit-box-sizing: $val; }
                                   box-sizing: $val;
}

// box shadow
@mixin box-shadow($val) { //androd3.0
  @if $support-android30 { -webkit-box-shadow: $val; }
                                   box-shadow: $val;
}

// background
@mixin background-size($val) { //androd2.3
  @if $support-android23 { -webkit-background-size: $val; }
                                   background-size: $val;
}
@mixin background-gradient($direction, $colors...) {
  @if $support-android23 {
    $len: length($colors);
    $i: 1;
    $_colors: "";
    $_direction: "";
    @each $color in $colors {
      @if 1 == $i {
        $_colors: $_colors + from($color);
      }
      @else if $len == $i {
        $_colors: $_colors + ", " + to($color);
      }
      @else {
        $_pos: nth($color, 2) / 100 / 1%;
        $_val: color-stop(unquote($_pos + ", " + nth($color, 1)));
        $_colors: $_colors + ", " + $_val;
      }
      $i: $i + 1;
    }
    @if      $direction == "to bottom"           { $_direction: left top, left bottom; }
    @else if $direction == "to top"              { $_direction: left bottom, left top; }
    @else if $direction == "to left"             { $_direction: right top, left top; }
    @else if $direction == "to right"            { $_direction: left top, right top; }
    @else if $direction == "to bottom left"      { $_direction: right top, left bottom; }
    @else if $direction == "to bottom right"     { $_direction: left top, right bottom; }
    @else if $direction == "to top left"         { $_direction: right bottom, left top; }
    @else if $direction == "to top right"        { $_direction: left bottom, right top; }
    background-image: -webkit-gradient(linear, $_direction, unquote($_colors));
  }
  @if $support-android44 {
    $_direction: "";
    @if      $direction == "to bottom"           { $_direction: top; }
    @else if $direction == "to top"              { $_direction: bottom; }
    @else if $direction == "to left"             { $_direction: right; }
    @else if $direction == "to right"            { $_direction: left; }
    @else if $direction == "to bottom left"      { $_direction: top right; }
    @else if $direction == "to bottom right"     { $_direction: top left; }
    @else if $direction == "to top left"         { $_direction: bottom right; }
    @else if $direction == "to top right"        { $_direction: bottom left; }
    background-image: -webkit-linear-gradient($_direction, $colors);
  }
  background-image: linear-gradient(unquote($direction), $colors);
}

// border
@mixin border-image($val) { //androd4.3
  @if $support-android43 { -webkit-border-image: $val; }
                                   border-image: $val;
}